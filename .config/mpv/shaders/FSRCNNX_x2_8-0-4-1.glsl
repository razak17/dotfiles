//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC feature map 1
//!BIND LUMA
//!SAVE FEATURE1
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0408248800000000,-0.0045724064000000,-0.2039038000000000,-0.0285933040000000);
res += vec4(-0.0142435990273952,0.0038629039190710,0.0025476382579654,0.0087047033011913) * LUMA_texOff(vec2(-2,-2)).r;
res += vec4(-0.0360655188560486,0.0049953218549490,-0.0151685588061810,-0.1147854849696159) * LUMA_texOff(vec2(-2,-1)).r;
res += vec4(0.0762607976794243,0.0354418680071831,-0.0654770359396935,-0.1341426521539688) * LUMA_texOff(vec2(-2,0)).r;
res += vec4(-0.0164290200918913,-0.0092544415965676,0.0461604557931423,-0.0482321083545685) * LUMA_texOff(vec2(-2,1)).r;
res += vec4(-0.0147638926282525,0.0096631748601794,-0.0253227781504393,-0.0152294393628836) * LUMA_texOff(vec2(-2,2)).r;
res += vec4(0.0014688726514578,0.0067892549559474,-0.0241088736802340,-0.0487971045076847) * LUMA_texOff(vec2(-1,-2)).r;
res += vec4(0.0161333959549665,-0.0623021051287651,-0.0135694686323404,0.1735211610794067) * LUMA_texOff(vec2(-1,-1)).r;
res += vec4(-0.4027819931507111,-0.4503427147865295,0.0600008480250835,0.1108563244342804) * LUMA_texOff(vec2(-1,0)).r;
res += vec4(-0.0123877031728625,-0.0042319083586335,-0.0661225393414497,-0.0292585399001837) * LUMA_texOff(vec2(-1,1)).r;
res += vec4(0.0146260717883706,0.0116099016740918,0.0131839839741588,0.0114014847204089) * LUMA_texOff(vec2(-1,2)).r;
res += vec4(0.0271680317819118,0.0261233989149332,-0.1327720582485199,0.0861071422696114) * LUMA_texOff(vec2(0,-2)).r;
res += vec4(-0.0843963250517845,-0.0577252916991711,0.3713890314102173,-0.1798624843358994) * LUMA_texOff(vec2(0,-1)).r;
res += vec4(0.9955138564109802,0.1437552720308304,0.3910484015941620,0.5947066545486450) * LUMA_texOff(vec2(0,0)).r;
res += vec4(-0.1673529446125031,0.0951503440737724,-0.2025675624608994,0.3300002813339233) * LUMA_texOff(vec2(0,1)).r;
res += vec4(0.0293159633874893,-0.0551591254770756,0.0594555102288723,-0.2410118281841278) * LUMA_texOff(vec2(0,2)).r;
res += vec4(0.0175731536000967,0.0058418628759682,0.0045553795062006,-0.0270346570760012) * LUMA_texOff(vec2(1,-2)).r;
res += vec4(-0.0816923603415489,0.0439764261245728,-0.0350026674568653,0.0470775626599789) * LUMA_texOff(vec2(1,-1)).r;
res += vec4(0.0502011068165302,0.4744220972061157,-0.0900669172406197,0.1026931554079056) * LUMA_texOff(vec2(1,0)).r;
res += vec4(-0.0195393562316895,-0.0607461966574192,0.0547396801412106,0.0126518718898296) * LUMA_texOff(vec2(1,1)).r;
res += vec4(-0.0317762978374958,0.0326353870332241,-0.0262697394937277,-0.0597493425011635) * LUMA_texOff(vec2(1,2)).r;
res += vec4(-0.0032149478793144,-0.0015322666149586,0.0073592201806605,0.0159923546016216) * LUMA_texOff(vec2(2,-2)).r;
res += vec4(0.0236981604248285,-0.0112474346533418,-0.0028510412666947,-0.0408870354294777) * LUMA_texOff(vec2(2,-1)).r;
res += vec4(0.0021177271846682,-0.0757599994540215,0.0148854106664658,-0.0691295862197876) * LUMA_texOff(vec2(2,0)).r;
res += vec4(-0.0139838522300124,0.0170172154903412,-0.0115749798715115,-0.0201498661190271) * LUMA_texOff(vec2(2,1)).r;
res += vec4(0.0018192988354713,0.0005796268815175,-0.0040952712297440,0.0141852609813213) * LUMA_texOff(vec2(2,2)).r;
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC feature map 2
//!BIND LUMA
//!SAVE FEATURE2
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0.0037839904000000,-0.0448726080000000,-0.0169907300000000,-0.0326126100000000);
res += vec4(-0.0811691582202911,-0.0100276721641421,-0.0241839084774256,-0.0120080793276429) * LUMA_texOff(vec2(-2,-2)).r;
res += vec4(-0.0706638097763062,0.0353447720408440,0.0190829653292894,0.0278309658169746) * LUMA_texOff(vec2(-2,-1)).r;
res += vec4(-0.0324358493089676,0.0196572337299585,-0.0368925333023071,0.0908437818288803) * LUMA_texOff(vec2(-2,0)).r;
res += vec4(-0.1222696080803871,-0.0399245508015156,-0.0087622171267867,0.0016680273693055) * LUMA_texOff(vec2(-2,1)).r;
res += vec4(-0.0559916906058788,0.0077704032883048,-0.0031095780432224,0.0037202069070190) * LUMA_texOff(vec2(-2,2)).r;
res += vec4(-0.0575971640646458,0.0086672091856599,0.0654155611991882,-0.0328448340296745) * LUMA_texOff(vec2(-1,-2)).r;
res += vec4(-0.2499978840351105,-0.1417988687753677,-0.1959033459424973,-0.0860714316368103) * LUMA_texOff(vec2(-1,-1)).r;
res += vec4(-0.7831671833992004,0.0515838302671909,0.2202826738357544,-0.1152261123061180) * LUMA_texOff(vec2(-1,0)).r;
res += vec4(-0.1358322501182556,-0.0068743992596865,0.0051532424986362,-0.0409188792109489) * LUMA_texOff(vec2(-1,1)).r;
res += vec4(0.0133069464936852,-0.0071081053465605,-0.0015406309394166,-0.0273921359330416) * LUMA_texOff(vec2(-1,2)).r;
res += vec4(0.1876734644174576,0.0137320263311267,0.0851919725537300,0.0506213121116161) * LUMA_texOff(vec2(0,-2)).r;
res += vec4(-0.8825849890708923,0.3522843122482300,-0.3193416595458984,-0.2650692760944366) * LUMA_texOff(vec2(0,-1)).r;
res += vec4(-0.8955355882644653,0.5956295132637024,0.7568838000297546,0.7094168066978455) * LUMA_texOff(vec2(0,0)).r;
res += vec4(-0.1315978616476059,-0.4423979520797729,0.1601534783840179,-0.0923153758049011) * LUMA_texOff(vec2(0,1)).r;
res += vec4(-0.3024259507656097,0.0262870118021965,-0.0601763613522053,0.1452603340148926) * LUMA_texOff(vec2(0,2)).r;
res += vec4(-0.1403047293424606,-0.0086327744647861,-0.0132344495505095,-0.0475946925580502) * LUMA_texOff(vec2(1,-2)).r;
res += vec4(-0.0217771343886852,-0.0876406952738762,-0.0183868650346994,0.0326230861246586) * LUMA_texOff(vec2(1,-1)).r;
res += vec4(-0.1278387457132339,-0.0064488705247641,-0.3106237351894379,-0.1741279065608978) * LUMA_texOff(vec2(1,0)).r;
res += vec4(-0.3968107402324677,-0.0799935460090637,-0.1122863888740540,-0.1027341037988663) * LUMA_texOff(vec2(1,1)).r;
res += vec4(-0.0791222676634789,0.0061383759602904,0.0308792982250452,0.0006714704795741) * LUMA_texOff(vec2(1,2)).r;
res += vec4(-0.0540468767285347,-0.0065342136658728,-0.0112993642687798,-0.0174903757870197) * LUMA_texOff(vec2(2,-2)).r;
res += vec4(-0.0961291044950485,0.0078251361846924,0.0021835980005562,-0.0408820584416389) * LUMA_texOff(vec2(2,-1)).r;
res += vec4(-0.0439578145742416,0.0261113792657852,0.0750485584139824,0.0797963365912437) * LUMA_texOff(vec2(2,0)).r;
res += vec4(0.0181636530905962,-0.0073398081585765,0.0287432149052620,-0.0007765129557811) * LUMA_texOff(vec2(2,1)).r;
res += vec4(-0.0501181855797768,-0.0043246424756944,-0.0178563036024570,-0.0189313404262066) * LUMA_texOff(vec2(2,2)).r;
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 1_1
//!BIND FEATURE1
//!BIND FEATURE2
//!SAVE MODEL21
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0.0004464299400000,0.0493179300000000,0.0121677590000000,0.0753419900000000);
vec4 t;
t = FEATURE1_texOff(vec2(-1,-1));
res += mat4(-0.0196368843317032,-0.0700326338410378,-0.0331351347267628,0.0926756709814072,0.0409442670643330,0.0137706352397799,0.0439592562615871,0.0226581860333681,0.2733965814113617,0.0115892253816128,0.0527620390057564,-0.0842371955513954,-0.0398502722382545,0.1037314087152481,0.0900046750903130,-0.0067092245444655) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(-1,-1));
res += mat4(0.1252929270267487,0.0103649590164423,-0.3405975997447968,-0.3195900022983551,0.1228402853012085,-0.0911192670464516,0.0372164323925972,0.0986669734120369,-0.1539082527160645,-0.0652432665228844,0.1377230286598206,0.1546805500984192,0.1888966560363770,0.0431756936013699,-0.1972342431545258,0.0815644860267639) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(-1,0));
res += mat4(-0.8117365837097168,-0.1347847580909729,-0.0420465692877769,0.0326474569737911,-0.5911035537719727,0.2469085603952408,0.0329031310975552,-0.0934711247682571,-0.8766055107116699,-0.0386165119707584,-0.1717646270990372,0.1069818511605263,-0.1961082518100739,-0.0432860516011715,0.1065549030900002,0.0506319403648376) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(-1,0));
res += mat4(-0.0339205637574196,-0.3502057492733002,0.0769832283258438,-0.1763304620981216,0.0163630861788988,0.3109942376613617,-0.0035370932891965,-0.2166438102722168,-0.1539464294910431,0.0069386237300932,-0.0280212629586458,0.3828495740890503,-0.0610909946262836,-0.3778613507747650,0.2525651752948761,-0.2878542244434357) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(-1,1));
res += mat4(0.2141424715518951,-0.1680881381034851,0.0954835340380669,0.0234351735562086,-0.0751151219010353,0.0007901277858764,0.0302947815507650,0.0506077669560909,-0.4627865552902222,-0.0609352216124535,-0.0390516519546509,-0.0788947045803070,-0.1170183271169662,0.1561684012413025,-0.0656139701604843,-0.0249820835888386) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(-1,1));
res += mat4(-0.1196541339159012,-0.0600104667246342,-0.0760688707232475,0.0773465856909752,-0.0219755135476589,0.0888690277934074,0.0142474519088864,-0.0145273935049772,0.2342949807643890,-0.0766839906573296,0.1072894632816315,-0.0365490838885307,-0.0980038121342659,0.1073909774422646,-0.2564980685710907,0.0164564978331327) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(0,-1));
res += mat4(0.1135862693190575,-0.0419981405138969,-0.0161153972148895,-0.0903258174657822,0.0238614417612553,-0.0231238640844822,-0.0414620786905289,-0.0746582522988319,-0.0006081275059842,-0.0535501539707184,0.0439126752316952,0.1322218924760818,-0.0270746871829033,0.1159917116165161,-0.0670492947101593,0.0251636505126953) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(0,-1));
res += mat4(0.0980276539921761,-0.1323792934417725,0.0309190545231104,-0.1499342471361160,0.0358557626605034,-0.0660433471202850,0.0661983489990234,-0.0997209474444389,0.0827829092741013,0.0390643998980522,-0.0065611312165856,-0.1960868984460831,-0.3016064763069153,-0.0642463117837906,0.1539940088987350,0.0523973926901817) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(0,0));
res += mat4(-0.3103980720043182,0.7368458509445190,0.0885884761810303,0.7348501682281494,-0.2899031043052673,0.1989412605762482,0.2700504064559937,-0.0770280137658119,0.1621719598770142,0.2156286537647247,-0.3075680434703827,-0.6605937480926514,0.3070688843727112,-0.3910132050514221,-0.0698174685239792,-0.0377457812428474) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(0,0));
res += mat4(0.1975672245025635,-0.2137258946895599,0.9531546831130981,-0.0764411613345146,0.2674637138843536,0.8156718611717224,-0.0502992756664753,-0.0722759962081909,0.3746351003646851,0.0126663316041231,-0.4594415724277496,0.0559744723141193,0.1812601983547211,0.7119243741035461,-0.0414131321012974,0.6031320691108704) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(0,1));
res += mat4(0.0976152122020721,-0.1599050909280777,-0.0229521896690130,0.1475096195936203,0.0605038851499557,0.2261461764574051,-0.1422373056411743,0.0011290865950286,0.4215501248836517,0.4692983031272888,-0.1838651448488235,-0.4192798435688019,0.0823707059025764,0.0192582346498966,0.0725626125931740,-0.2174802571535110) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(0,1));
res += mat4(0.1375243365764618,-0.2535980641841888,0.0466654822230339,-0.0322107970714569,-0.2308215945959091,0.2091692537069321,0.0827492251992226,-0.1556306928396225,-0.1144147515296936,0.0553045086562634,-0.0466070249676704,0.5011167526245117,-0.0672803968191147,-0.3382750451564789,0.1560517698526382,-0.1264892667531967) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(1,-1));
res += mat4(0.0170062538236380,0.0981266796588898,-0.0767469555139542,-0.0339103192090988,-0.0076304054819047,-0.0444876365363598,0.1807669997215271,0.0250990930944681,0.1603259742259979,0.1106572076678276,0.1049863100051880,0.0502721332013607,-0.0068969028070569,0.0776412189006805,-0.1091056093573570,0.0792289748787880) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(1,-1));
res += mat4(-0.1449079811573029,0.0033976032864302,-0.0428017526865005,0.2392963021993637,0.0159429609775543,0.0721793994307518,0.0371495224535465,0.0325940772891045,-0.0643990784883499,-0.2485561221837997,0.1105591580271721,-0.2311018556356430,0.0466538965702057,0.0135040180757642,-0.0123153887689114,0.3086535036563873) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(1,0));
res += mat4(0.0744506120681763,-0.0482528731226921,0.1493346840143204,-0.2770677804946899,-0.0292732864618301,-0.0460661239922047,-0.4874771535396576,-0.1097511127591133,-0.0081815086305141,-0.0883996188640594,0.2516625821590424,0.2438675165176392,0.1067642942070961,0.0063067195005715,-0.1917553842067719,0.3010095059871674) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(1,0));
res += mat4(0.0574335977435112,-0.1486954391002655,0.1858862191438675,-0.0564778111875057,-0.0536410510540009,-0.0689453706145287,0.0785095170140266,0.0509994216263294,0.0145093658939004,0.0517314858734608,0.0196528322994709,-0.1032876223325729,-0.0620870850980282,-0.0136233270168304,0.4553636014461517,0.3005509674549103) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(1,1));
res += mat4(0.1289815157651901,0.0189857669174671,0.0754966735839844,-0.2019309848546982,-0.1049554646015167,0.0805796235799789,0.0767378136515617,0.1146984696388245,-0.0415993221104145,-0.1254264116287231,0.0900010988116264,0.0227262601256371,-0.1201598122715950,0.0964232757687569,-0.0436675697565079,0.0904458984732628) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(1,1));
res += mat4(0.0658823400735855,-0.0779307112097740,-0.2938730716705322,-0.0672043114900589,-0.0023560270201415,0.1342666149139404,0.1377336233854294,-0.0338991805911064,-0.0261566098779440,-0.0468399971723557,0.1396540552377701,0.1054278016090393,-0.1001449972391129,-0.1371069252490997,-0.2247522920370102,0.1017460897564888) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
res = max(res, vec4(0.0)) - vec4(-0.2467152200000000,0.8516527400000000,0.0048373705000000,1.2217503999999999) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 1_2
//!BIND FEATURE1
//!BIND FEATURE2
//!SAVE MODEL22
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0224698240000000,0.0109023570000000,-0.0167713850000000,0.0131647700000000);
vec4 t;
t = FEATURE1_texOff(vec2(-1,-1));
res += mat4(0.1240273639559746,0.0776147097349167,-0.0239027831703424,0.0629499629139900,-0.1279177069664001,-0.0759516656398773,-0.0432896688580513,-0.0650080814957619,0.0638116523623466,-0.0591816455125809,0.1059827655553818,0.1762285530567169,-0.0892951786518097,-0.0450349971652031,0.0733403488993645,-0.0249263290315866) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(-1,-1));
res += mat4(-0.0180050656199455,-0.0584924854338169,-0.2733274102210999,-0.1626824140548706,0.0076015791855752,-0.0837689563632011,-0.0847261846065521,-0.2049718350172043,0.0310160499066114,0.1492977142333984,0.2417939156293869,-0.0244847126305103,0.0040170955471694,-0.0726040080189705,-0.1720998585224152,-0.1523113846778870) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(-1,0));
res += mat4(-0.1407977640628815,-0.3542533516883850,-0.1987826079130173,0.0712157413363457,0.0307919345796108,0.1449056267738342,0.2129422426223755,0.0961968675255775,0.0601923577487469,0.0447081699967384,0.3947466313838959,0.0182940289378166,0.1504503935575485,-0.0066299517638981,0.1746167093515396,-0.2275832444429398) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(-1,0));
res += mat4(0.0773886889219284,0.0983490571379662,-0.0735555663704872,0.2836272418498993,0.0803574621677399,-0.1122160851955414,0.3554638922214508,0.1982806026935577,-0.0394518747925758,-0.0445449203252792,0.1990938335657120,0.0601981282234192,0.3035001754760742,-0.0498202368617058,0.1666673868894577,0.0147749651223421) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(-1,1));
res += mat4(0.0623549446463585,0.3093222081661224,-0.0426686555147171,-0.1420669853687286,0.0102536156773567,-0.2628923058509827,-0.1507710367441177,0.0911449491977692,0.0477837733924389,0.2208288609981537,0.0049155466258526,0.0076231667771935,-0.0242469087243080,0.0185702051967382,-0.2318354099988937,-0.0027557630091906) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(-1,1));
res += mat4(-0.1242567971348763,-0.0969352945685387,-0.0236562713980675,0.0208176057785749,-0.0576413534581661,-0.0234524067491293,0.0075903721153736,0.0792307853698730,0.0990287140011787,0.2955617010593414,0.1550426930189133,0.0566376186907291,-0.1154903396964073,0.5615189075469971,-0.1577049642801285,0.0409012101590633) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(0,-1));
res += mat4(0.0022731176577508,0.0728174671530724,-0.0947541221976280,0.3568834364414215,0.1595165133476257,0.0124863255769014,-0.2486389726400375,-0.0125622237101197,0.0453753322362900,0.0919388234615326,-0.3613186478614807,0.3019558191299438,0.0371445268392563,-0.1350678652524948,-0.1034780889749527,-0.0243387445807457) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(0,-1));
res += mat4(-0.1132485419511795,-0.1300522685050964,0.0987119525671005,-0.3570121526718140,-0.0355598367750645,0.0998745635151863,0.0673992261290550,0.2581213414669037,0.0794978141784668,0.1098994612693787,0.0382737182080746,0.4324878752231598,-0.0233298018574715,-0.0081515023484826,0.1044135168194771,0.0318191200494766) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(0,0));
res += mat4(-0.4869607985019684,0.4662455320358276,-0.4125348925590515,0.0685802102088928,0.3555729389190674,0.0293668434023857,-0.3959840834140778,-0.8375621438026428,0.1833194494247437,-0.2377814352512360,0.4069817662239075,-0.6870504617691040,0.0961597785353661,-0.1403896361589432,0.1548486500978470,-0.3339928984642029) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(0,0));
res += mat4(0.4865636825561523,-0.1072611063718796,0.1857850998640060,0.0558407977223396,-0.3569669425487518,0.4493725597858429,0.2647527158260345,0.2645152807235718,-0.6009995341300964,-0.3892611265182495,0.0394600667059422,-0.2538318037986755,0.1322991997003555,-0.1607391387224197,-0.0135854864493012,-0.7129938006401062) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(0,1));
res += mat4(0.1707956194877625,-0.2888027131557465,-0.0045565823093057,0.1180887222290039,0.3306566774845123,0.2590729296207428,-0.2462027072906494,-0.0084965461865067,-0.6742869615554810,0.0962021946907043,0.0560333058238029,-0.5703732967376709,0.0890047252178192,0.1182939186692238,-0.0014975453959778,0.1298824250698090) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(0,1));
res += mat4(0.0543017536401749,-0.2511883378028870,0.1383411735296249,-0.2249474674463272,-0.2909186184406281,0.1375755220651627,-0.0049933986738324,0.0189510378986597,0.1059900894761086,0.0580192245543003,0.0678666159510612,0.0174035802483559,0.3021306395530701,-0.3711525201797485,0.0464518740773201,-0.2732787430286407) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(1,-1));
res += mat4(0.0207957942038774,-0.0749269872903824,0.0194671619683504,0.1089053153991699,-0.0257574822753668,-0.0279334280639887,0.0396650098264217,-0.0006990366382524,-0.0313858613371849,0.1216089725494385,-0.0021761297248304,0.1205905750393867,-0.0976078733801842,-0.0130399744957685,-0.0631311982870102,-0.2478451728820801) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(1,-1));
res += mat4(0.0537219010293484,0.1153201162815094,0.1093542948365211,-0.0781924501061440,-0.0463472977280617,-0.1020215526223183,-0.0203319508582354,0.0876554623246193,0.0474100187420845,0.0955203920602798,-0.0302822496742010,-0.0150211201980710,-0.1462204903364182,-0.1242275759577751,-0.0057347384281456,-0.1003857105970383) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(1,0));
res += mat4(-0.1491290330886841,0.0528993271291256,0.0629493594169617,-0.2671058773994446,-0.0037505871150643,0.0729961395263672,-0.0418444871902466,-0.0433531552553177,0.0786024034023285,-0.2089074850082397,-0.5314776897430420,-0.0625640228390694,0.0952661186456680,-0.0453403368592262,-0.2440332174301147,0.3906704783439636) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(1,0));
res += mat4(0.2385181188583374,0.0483224578201771,0.1350626498460770,0.1027067825198174,-0.0810558944940567,-0.0359295345842838,-0.0769890919327736,0.1815820485353470,-0.0796750411391258,0.0005351625732146,-0.0410043746232986,-0.1962463855743408,0.0504175648093224,0.1308540999889374,0.0325521416962147,0.0046662720851600) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
t = FEATURE1_texOff(vec2(1,1));
res += mat4(0.1221226304769516,-0.0957126319408417,0.0463174059987068,-0.1849036961793900,-0.1274473220109940,0.0005838355864398,-0.0768289342522621,0.2318073511123657,-0.0323836393654346,0.0935396850109100,-0.1135933920741081,0.1659076511859894,-0.1929010748863220,-0.0782410055398941,0.1014329865574837,-0.0372504815459251) * (max(t, vec4(0.0)) - vec4(1.6297231000000001,1.1010928000000000,-0.1415328500000000,0.0215109960000000) * max(-t, vec4(0.0)));
t = FEATURE2_texOff(vec2(1,1));
res += mat4(-0.1484587192535400,0.1519189924001694,-0.0888102427124977,0.0800849646329880,0.1254042685031891,-0.0976958125829697,0.2119205147027969,-0.0359183400869370,0.1373040974140167,0.0033973029348999,-0.1207304969429970,0.0086877550929785,-0.2911074161529541,0.1824606806039810,0.0821751058101654,0.5248029828071594) * (max(t, vec4(0.0)) - vec4(-0.0772999100000000,0.8897056600000000,0.0140030720000000,1.0464203000000001) * max(-t, vec4(0.0)));
res = max(res, vec4(0.0)) - vec4(-0.2215851200000000,-0.1496899300000000,0.3100826400000000,-0.3180997400000000) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 2_1
//!BIND MODEL21
//!BIND MODEL22
//!SAVE MODEL1
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0210209880000000,0.0227781680000000,-0.0286383520000000,0.0068742717000000);
res += mat4(-0.0088386405259371,-0.0320617184042931,0.0163009669631720,0.0106408298015594,-0.0619340091943741,-0.0556491315364838,-0.0260502751916647,-0.1463559716939926,-0.0034368112683296,-0.1331650763750076,0.1524350643157959,0.0456308685243130,0.0159408710896969,0.0387784875929356,-0.0744712725281715,0.0272970702499151) * MODEL21_texOff(vec2(-1,-1));
res += mat4(-0.1232796311378479,0.2207159101963043,0.1678819209337234,0.2881628870964050,0.0155176427215338,-0.0213188417255878,-0.0284034553915262,-0.2232446223497391,0.0569072179496288,-0.0516066476702690,-0.0829069092869759,-0.0483743324875832,-0.0598844513297081,0.0326656661927700,-0.1033838465809822,0.0248133316636086) * MODEL22_texOff(vec2(-1,-1));
res += mat4(-0.0081192841753364,0.0330160781741142,0.0050669638440013,-0.0063954992219806,-0.2299894243478775,0.0582271143794060,-0.1364179104566574,0.1318812221288681,-0.1844543665647507,-0.1029429212212563,-0.0346840694546700,-0.1484375447034836,-0.5302002429962158,0.0432900190353394,0.0469466410577297,-0.0451274625957012) * MODEL21_texOff(vec2(-1,0));
res += mat4(0.0676685348153114,0.4321754276752472,-0.0529563352465630,0.1890171766281128,0.0273439791053534,0.1160932481288910,-0.0050553749315441,-0.1512907594442368,-0.0597915537655354,0.1589567959308624,-0.0144374035298824,0.0682200714945793,0.1369927674531937,-0.1281062215566635,-0.0965638533234596,0.0478979870676994) * MODEL22_texOff(vec2(-1,0));
res += mat4(-0.0276381392031908,-0.0608309097588062,-0.0328045599162579,0.0171561688184738,-0.1441611796617508,0.1430820524692535,0.2703107595443726,0.0456772632896900,-0.1900073140859604,0.0279737431555986,0.2059550583362579,0.1382851302623749,-0.0492272488772869,-0.1404830217361450,-0.1876609027385712,0.2791111171245575) * MODEL21_texOff(vec2(-1,1));
res += mat4(0.1002706438302994,0.1982725858688354,0.1415549069643021,-0.0235129650682211,-0.1185888573527336,0.1299516856670380,0.1511690467596054,-0.1052452549338341,0.0614803545176983,0.1771721839904785,-0.0446358956396580,0.0089933238923550,0.0452103018760681,-0.2825448215007782,-0.2156495004892349,-0.0326722301542759) * MODEL22_texOff(vec2(-1,1));
res += mat4(-0.0160498004406691,-0.1305508762598038,0.0277457255870104,0.0410520881414413,0.3550882041454315,-0.0729452893137932,0.0888410657644272,-0.1535957455635071,-0.1924810409545898,0.0586321055889130,0.0179655365645885,-0.1966191381216049,0.0791260451078415,-0.0948338806629181,0.0889942869544029,0.0325334966182709) * MODEL21_texOff(vec2(0,-1));
res += mat4(0.3027540743350983,-0.0547041185200214,0.1480364054441452,0.3240121006965637,0.1038840636610985,-0.1672731339931488,-0.0076382569968700,-0.2938142120838165,0.1387915462255478,0.1788802742958069,-0.0902816429734230,0.1231913119554520,-0.0366023592650890,0.0559630356729031,-0.0395120494067669,0.0876479297876358) * MODEL22_texOff(vec2(0,-1));
res += mat4(-0.8350918292999268,0.0599968545138836,0.1145687699317932,-0.3700573444366455,0.4408805370330811,0.9502282738685608,-0.8984389901161194,0.1757374554872513,0.1156191900372505,-0.2979440689086914,0.1127329543232918,0.2777718603610992,0.5825860500335693,-0.1871077716350555,0.3293496072292328,-0.0439395084977150) * MODEL21_texOff(vec2(0,0));
res += mat4(-0.1119348183274269,-0.0992405265569687,-0.1154745668172836,0.5064123272895813,0.7219493985176086,-0.0240686796605587,0.0409619919955730,-0.3460479676723480,-0.3118319809436798,0.0966443046927452,0.0535416081547737,-0.0053968052379787,-0.0313246846199036,-0.0642427057027817,-0.1034227162599564,0.1300500184297562) * MODEL22_texOff(vec2(0,0));
res += mat4(-0.1623377501964569,-0.1028454750776291,0.1018643975257874,0.3895507156848907,0.1045675352215767,-0.2811932861804962,0.1406188160181046,0.2635546326637268,0.0786756053566933,0.4177029430866241,-0.3611780107021332,-0.2734864652156830,-0.0467019714415073,-0.0272795967757702,0.1795003712177277,-0.1439748406410217) * MODEL21_texOff(vec2(0,1));
res += mat4(-0.1018020436167717,-0.0551685355603695,0.0987666547298431,-0.1005797162652016,0.0150385135784745,0.0917071104049683,0.1717189550399780,-0.1899240165948868,-0.3760415017604828,-0.0652031749486923,-0.0380890592932701,0.2224720269441605,0.1228296458721161,-0.1374011635780334,0.2262906879186630,-0.1576493978500366) * MODEL22_texOff(vec2(0,1));
res += mat4(0.0209303256124258,0.2101118117570877,0.3168266117572784,-0.0037818243727088,0.0194268543273211,0.1283466964960098,0.1353346407413483,0.1307089626789093,-0.1028641536831856,-0.0050255092792213,-0.0526047796010971,-0.0801362842321396,-0.0501890070736408,0.1821442395448685,-0.1457855999469757,0.1134728342294693) * MODEL21_texOff(vec2(1,-1));
res += mat4(-0.1188507452607155,-0.2336847037076950,-0.1445865929126740,0.1216258555650711,0.0274131223559380,-0.1275317072868347,0.0658509358763695,-0.3029333651065826,0.0598164238035679,0.0120566664263606,0.0056380466558039,0.1451511681079865,-0.0508902035653591,0.0107827959582210,-0.1811029911041260,0.0700792372226715) * MODEL22_texOff(vec2(1,-1));
res += mat4(-0.4226211607456207,0.1920893341302872,-0.1016438081860542,0.1255640089511871,0.0859212949872017,0.0311477165669203,-0.1409515887498856,-0.0323858410120010,-0.0117842219769955,-0.0323299355804920,0.2738177478313446,0.0300916861742735,-0.1249687895178795,0.0713126733899117,-0.0729200989007950,0.1063060536980629) * MODEL21_texOff(vec2(1,0));
res += mat4(0.0432621538639069,0.0274338722229004,0.1767245978116989,0.1502834558486938,0.3642032146453857,-0.2813816666603088,0.0986396521329880,-0.1255152970552444,0.0062293596565723,0.0928883850574493,-0.0523126237094402,-0.2437304258346558,-0.0495324470102787,0.0205409415066242,-0.1083279699087143,0.3845712542533875) * MODEL22_texOff(vec2(1,0));
res += mat4(-0.0171634517610073,-0.0302861630916595,-0.0470321327447891,0.2783758938312531,-0.0163733009248972,-0.2058928608894348,-0.1182944923639297,0.0427702404558659,-0.0214881002902985,0.0015200175112113,-0.1820816397666931,-0.1633647531270981,0.1967561393976212,-0.0015369894681498,0.0523840747773647,0.1674495637416840) * MODEL21_texOff(vec2(1,1));
res += mat4(-0.0906075909733772,-0.1971613466739655,-0.0993777513504028,0.0505571253597736,0.1273170709609985,-0.0399552434682846,0.0744501873850822,-0.2250550538301468,0.0501447170972824,0.0797058865427971,-0.0380956567823887,0.2044388055801392,-0.0822734534740448,-0.2234880328178406,-0.2012108564376831,0.1606968641281128) * MODEL22_texOff(vec2(1,1));
res = max(res, vec4(0.0)) - vec4(0.0104481160000000,0.4602051700000000,-0.2436800600000000,1.1898447000000001) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 2_2
//!BIND MODEL21
//!BIND MODEL22
//!SAVE MODEL2
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0.0084300650000000,0.0350647100000000,-0.0506445770000000,-0.0005140560000000);
res += mat4(-0.0062060509808362,0.0057118120603263,0.0167652666568756,0.0021036835387349,-0.0203594770282507,-0.0104703120887280,-0.0187875051051378,-0.0855568349361420,0.0087474752217531,-0.1114966124296188,0.0669856294989586,0.1605977565050125,-0.0350501909852028,0.0586342476308346,-0.1286222189664841,-0.0782862752676010) * MODEL21_texOff(vec2(-1,-1));
res += mat4(-0.0952432900667191,0.0359635278582573,0.1831837892532349,0.0311980117112398,-0.0314732752740383,0.0636933073401451,0.0886444598436356,-0.0492675937712193,-0.0029047264251858,0.0505861528217793,0.0714368075132370,-0.0217021703720093,-0.0041165463626385,0.0115868793800473,-0.0630598589777946,0.0154008502140641) * MODEL22_texOff(vec2(-1,-1));
res += mat4(0.0351469442248344,0.0566350631415844,0.0015405752928928,0.0158328767865896,-0.3184094130992889,0.2745452821254730,-0.1491074115037918,-0.0529619865119457,0.3513708710670471,0.0342855378985405,0.3197832107543945,0.3672795295715332,-0.2380196452140808,0.2447436451911926,-0.1244607940316200,-0.0915935561060905) * MODEL21_texOff(vec2(-1,0));
res += mat4(0.0265442691743374,-0.1033985540270805,0.0356095731258392,-0.2509572505950928,-0.0316048525273800,0.0807823687791824,0.1324649006128311,-0.1554038673639297,-0.2880086898803711,0.0745925605297089,-0.1245317608118057,-0.1550297290086746,0.2259503901004791,-0.2755038738250732,0.2480497509241104,0.1398810595273972) * MODEL22_texOff(vec2(-1,0));
res += mat4(0.0396823137998581,-0.0390137173235416,0.0198148135095835,0.0204930193722248,-0.0504277944564819,-0.1070379093289375,0.0056012873537838,-0.1119928807020187,-0.0641775727272034,0.0529833659529686,-0.2633713781833649,-0.1361562013626099,0.0310061760246754,-0.0538791343569756,0.1106348484754562,0.1248959600925446) * MODEL21_texOff(vec2(-1,1));
res += mat4(0.1163415834307671,-0.0230588894337416,0.0928175970911980,-0.1241578683257103,-0.0109074795618653,0.0878119766712189,0.0072320513427258,-0.1022415086627007,-0.0981371477246284,-0.0325198024511337,0.0303157065063715,-0.0846553072333336,0.0853741690516472,-0.1625444442033768,0.2200471758842468,0.2200858294963837) * MODEL22_texOff(vec2(-1,1));
res += mat4(0.0542265027761459,-0.0866688191890717,0.0584935359656811,0.0179225746542215,-0.0293393414467573,0.0003856798284687,0.1383628398180008,0.0104975951835513,-0.0065118912607431,-0.0373887978494167,0.0017473947955295,0.1171749606728554,0.0500556156039238,0.0019557722844183,0.0965201556682587,-0.0623909272253513) * MODEL21_texOff(vec2(0,-1));
res += mat4(0.2038250267505646,-0.2314466685056686,-0.1235114187002182,0.5653151869773865,-0.0213218238204718,0.0238599535077810,-0.2309975475072861,-0.0082936137914658,-0.2423412054777145,0.0042744460515678,-0.1801655292510986,-0.0429033190011978,-0.0346606560051441,-0.1144788712263107,-0.0485493540763855,0.0445908121764660) * MODEL22_texOff(vec2(0,-1));
res += mat4(-0.4137411117553711,0.4066771864891052,-0.4038679599761963,-0.0880866497755051,0.6459832191467285,0.3461470603942871,0.5144146680831909,0.6078813076019287,0.0020869045984000,-0.0613797754049301,-0.2497968226671219,-0.5410971045494080,-0.0046702232211828,-0.4957220554351807,0.4698257744312286,0.5888980031013489) * MODEL21_texOff(vec2(0,0));
res += mat4(0.8748732209205627,0.3281463384628296,-0.2725683450698853,0.0124504873529077,0.1962574273347855,-0.0852711200714111,0.1158406436443329,-0.0248720478266478,-0.1232071593403816,0.0476603917777538,-0.9464790821075439,-0.0855960547924042,-0.2095492780208588,-0.4460534751415253,0.0470224842429161,0.0119290463626385) * MODEL22_texOff(vec2(0,0));
res += mat4(-0.0321817956864834,-0.1892900317907333,0.0603737868368626,-0.0100434515625238,0.3620012700557709,-0.0579320490360260,0.2102810293436050,0.0623416081070900,-0.2324158996343613,0.1927395612001419,-0.0571279413998127,-0.0716610699892044,0.0782338306307793,-0.0141488695517182,0.0247539803385735,-0.0626682117581367) * MODEL21_texOff(vec2(0,1));
res += mat4(0.1323715448379517,-0.1803402453660965,-0.1252297312021255,-0.0409087464213371,0.0167641621083021,-0.0337675884366035,0.0259451270103455,-0.0783514678478241,-0.0934453606605530,0.1508120149374008,-0.2924219667911530,-0.0408716946840286,-0.2844659984111786,-0.6802863478660583,0.0642969012260437,0.2186512500047684) * MODEL22_texOff(vec2(0,1));
res += mat4(0.2206524163484573,0.1938108056783676,0.4635686576366425,-0.0033803114201874,0.0226249787956476,0.0148756857961416,-0.0864512324333191,-0.0672811567783356,0.0056458027102053,0.0539466850459576,-0.1432415246963501,-0.0877239182591438,0.0032570674084127,-0.0007945440593176,0.0955433622002602,0.0033599699381739) * MODEL21_texOff(vec2(1,-1));
res += mat4(0.1023208200931549,-0.1360133588314056,-0.0722043737769127,0.3544716536998749,0.0648417100310326,0.0743050202727318,0.0245322622358799,-0.1064486354589462,-0.0229458957910538,-0.0307224765419960,-0.1097985059022903,-0.0682394579052925,-0.0629631280899048,-0.0407496541738510,-0.1103251352906227,0.0530126579105854) * MODEL22_texOff(vec2(1,-1));
res += mat4(-0.0634494647383690,0.1461985558271408,0.2974168658256531,-0.2509740293025970,-0.0857908725738525,0.1128580197691917,-0.1185686886310577,0.0712205022573471,0.0738672539591789,-0.0572015680372715,0.0798652768135071,0.0638035610318184,0.0208497643470764,-0.0641660168766975,-0.2382258176803589,0.0813542678952217) * MODEL21_texOff(vec2(1,0));
res += mat4(0.2872295975685120,-0.0184312816709280,0.0284775868058205,0.2133487761020660,0.1377356797456741,-0.0993583798408508,-0.1207337900996208,0.0735760629177094,0.0123605141416192,0.1498477905988693,0.1156029477715492,0.0432409755885601,0.0140131339430809,-0.1949067711830139,-0.2160697728395462,0.0559857375919819) * MODEL22_texOff(vec2(1,0));
res += mat4(0.0872386097908020,0.0315130278468132,0.3306407928466797,-0.0297118611633778,-0.0848603770136833,-0.0916900485754013,-0.1008078157901764,-0.0102687487378716,-0.0218138396739960,-0.0278513655066490,-0.0358186811208725,0.0017011456657201,-0.0454010926187038,0.1463021337985992,0.0148440450429916,-0.0636763274669647) * MODEL21_texOff(vec2(1,1));
res += mat4(0.2173931002616882,0.1037286743521690,-0.0681887939572334,-0.0252344403415918,0.0381685756146908,0.1172976195812225,-0.0581714473664761,-0.0759797096252441,0.0606034398078918,0.1557907313108444,-0.0041348249651492,0.0509528815746307,-0.0307836961001158,-0.1337674707174301,-0.1344804614782333,0.0491247624158859) * MODEL22_texOff(vec2(1,1));
res = max(res, vec4(0.0)) - vec4(0.3204644600000000,2.2520006000000001,-0.0687135000000000,1.5006291000000000) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 3_1
//!BIND MODEL1
//!BIND MODEL2
//!SAVE MODEL21
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0120469720000000,-0.0113661140000000,-0.0042770826000000,0.0078695910000000);
res += mat4(0.0379319526255131,-0.0432578884065151,-0.0266352389007807,0.0153168868273497,-0.0096904207020998,-0.0232320968061686,-0.2182749509811401,0.0711452662944794,0.0100380610674620,-0.0866360887885094,-0.0493582040071487,-0.1622482836246490,0.0579541511833668,-0.0365893915295601,0.0704173147678375,0.0074200350791216) * MODEL1_texOff(vec2(-1,-1));
res += mat4(-0.0817021429538727,0.1052470654249191,0.1316179037094116,-0.1919461041688919,0.0392533056437969,0.0301052778959274,0.0186398439109325,-0.0393352098762989,-0.0046702441759408,-0.0158407241106033,0.0060842023231089,0.1490776687860489,-0.0286948233842850,0.0744624361395836,-0.1555625498294830,0.0260996948927641) * MODEL2_texOff(vec2(-1,-1));
res += mat4(-0.0314371101558208,-0.1452396064996719,-0.1499247848987579,0.0372740365564823,-0.0026910204906017,0.0137440925464034,0.0409607738256454,0.1016679033637047,0.2865322232246399,-0.0549845471978188,-0.1477886140346527,-0.2851958572864532,0.1022683829069138,-0.0212577376514673,-0.0737088471651077,0.1243764311075211) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.1580803990364075,0.2625886201858521,-0.0193492900580168,0.0152408862486482,0.0367898419499397,-0.0392759777605534,0.0471564270555973,-0.0594394765794277,-0.0351707488298416,-0.2497054040431976,0.0204253420233727,-0.0107072275131941,0.0549868270754814,-0.2182385623455048,-0.0180204883217812,0.0112460544332862) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.1062321439385414,0.0304954294115305,0.1446696370840073,-0.1048828586935997,-0.0002423488913337,0.1116920411586761,0.0511363409459591,-0.0736370980739594,0.0225309599190950,0.0098746437579393,0.0951244533061981,-0.2506473958492279,-0.0346388965845108,0.1469051390886307,-0.0284217484295368,-0.0876477956771851) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.1152386143803596,0.0688402801752090,0.0007029072730802,-0.0000636279510218,-0.0792136341333389,0.0269805751740932,-0.0198485404253006,-0.1150729507207870,-0.0404558964073658,-0.0393053032457829,-0.0946542099118233,0.0241086967289448,-0.0388746336102486,0.0193464551120996,0.1207803040742874,0.0533503293991089) * MODEL2_texOff(vec2(-1,1));
res += mat4(0.2051325142383575,-0.1588537395000458,0.1462242007255554,-0.0681399181485176,-0.0434493571519852,-0.1977924704551697,-0.6592929363250732,-0.0223875865340233,0.0254545323550701,-0.0228871237486601,-0.1485259532928467,-0.2451958805322647,0.0633595287799835,-0.1637312620878220,0.3689396977424622,0.1008073166012764) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.1414077728986740,0.0220820903778076,-0.0133124329149723,0.3817752599716187,-0.0354730337858200,-0.0739666819572449,0.2608612775802612,-0.1413094550371170,0.0260097570717335,-0.0338548645377159,0.0392543971538544,-0.1941854506731033,-0.1991845816373825,0.0041550416499376,0.0517306439578533,-0.0515447854995728) * MODEL2_texOff(vec2(0,-1));
res += mat4(0.5457708835601807,-0.4816423654556274,-0.4515849947929382,0.1795267015695572,0.4039361178874969,0.0309259258210659,0.6685146093368530,0.2228193879127502,0.3296872675418854,-0.1625669747591019,-0.1909791678190231,-0.2018876373767853,0.3217149078845978,-0.0307041648775339,-0.3264738023281097,0.2365094572305679) * MODEL1_texOff(vec2(0,0));
res += mat4(-0.3941330313682556,-0.1122136265039444,0.0001877232716652,-0.5436927080154419,0.0030474886298180,0.4100300073623657,-0.1772381365299225,-0.2415592819452286,0.7546249628067017,0.2802820205688477,-0.0225203577429056,0.2157693207263947,0.3187097012996674,0.5094475150108337,0.1110593080520630,0.2979792654514313) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.1119576767086983,0.0352055132389069,0.1854936629533768,-0.2151535004377365,-0.1246925517916679,-0.0703974738717079,0.0174332037568092,0.0476645976305008,0.0978523120284081,-0.0965689346194267,0.1559659391641617,-0.1884156912565231,-0.1264084726572037,0.1073116958141327,-0.0312835276126862,0.0599933303892612) * MODEL1_texOff(vec2(0,1));
res += mat4(0.0727588012814522,-0.0325771942734718,0.0459745451807976,0.0166530795395374,-0.0644790083169937,-0.1010188981890678,-0.2450314760208130,-0.2681231200695038,0.1398232728242874,0.0440467782318592,-0.1250090003013611,-0.0417412444949150,-0.0358328707516193,0.1506101489067078,-0.0883309170603752,-0.2485281676054001) * MODEL2_texOff(vec2(0,1));
res += mat4(0.1237279847264290,0.1649004667997360,0.0105028348043561,-0.1753359138965607,0.0413692742586136,-0.2245555371046066,-0.0706776529550552,0.0895909368991852,-0.1427455544471741,-0.0440022386610508,-0.0923143774271011,-0.2879537940025330,0.0447020828723907,0.1201396211981773,0.0501775853335857,-0.1933916807174683) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.0497122220695019,-0.0634099319577217,0.1971534341573715,0.2169266939163208,0.0285130739212036,0.0648315995931625,0.0258345194160938,-0.0740131214261055,-0.0150713268667459,-0.0260137040168047,-0.0765587091445923,0.0219155512750149,-0.0564735159277916,0.0976540148258209,-0.1766577064990997,-0.0775824263691902) * MODEL2_texOff(vec2(1,-1));
res += mat4(-0.3003682494163513,0.3577585518360138,-0.2663984596729279,-0.1132595762610435,0.1485219895839691,-0.2145362794399261,0.0811445936560631,0.2175681293010712,0.0790639519691467,-0.1810510158538818,-0.0360346063971519,-0.4266407191753387,0.0204701647162437,0.1422829627990723,-0.1589256078004837,0.2064349353313446) * MODEL1_texOff(vec2(1,0));
res += mat4(0.2342980057001114,-0.1274886131286621,-0.0957403928041458,-0.1738591939210892,-0.0184783563017845,0.1081984788179398,0.0245645418763161,-0.1367653012275696,-0.0427076481282711,-0.1631067544221878,-0.0082600656896830,0.1162667348980904,-0.2077414691448212,-0.0750075653195381,-0.0062595689669251,-0.4532594978809357) * MODEL2_texOff(vec2(1,0));
res += mat4(-0.0319489315152168,0.0368968583643436,-0.0826504305005074,-0.4019889831542969,0.1822869032621384,-0.0501867383718491,0.2945234775543213,-0.0291149336844683,0.1105063334107399,-0.0925252661108971,0.0306857842952013,-0.0874321088194847,0.0110139958560467,0.0587635487318039,0.0309027563780546,-0.0881296992301941) * MODEL1_texOff(vec2(1,1));
res += mat4(0.0088335853070021,-0.0155116878449917,-0.0000115336861199,-0.0719872638583183,-0.0840600356459618,-0.0529317855834961,-0.2539806962013245,-0.0109426723793149,0.0386216044425964,0.0711719170212746,0.2241632044315338,0.3462823033332825,-0.0434321276843548,-0.0820265561342239,0.0224326550960541,0.2641453742980957) * MODEL2_texOff(vec2(1,1));
res = max(res, vec4(0.0)) - vec4(1.6650323000000000,1.5193985000000001,0.1648198200000000,-0.3325859600000000) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 3_2
//!BIND MODEL1
//!BIND MODEL2
//!SAVE MODEL22
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0126315310000000,0.0434248520000000,-0.0394580030000000,-0.0244244260000000);
res += mat4(0.1567246466875076,-0.1055076122283936,-0.0187611598521471,0.2028937041759491,0.0415355376899242,-0.0231025945395231,-0.1340005099773407,0.0716632902622223,0.1373382657766342,-0.1769442856311798,-0.0616194270551205,0.2375389188528061,-0.0797021463513374,0.0262595247477293,0.0444593094289303,0.0833029597997665) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.0982792750000954,0.0063817920163274,-0.0615533031523228,0.0715263038873672,0.0415536835789680,0.0408715382218361,0.0239111073315144,-0.0648533254861832,-0.2197428643703461,0.1740509718656540,0.0308692306280136,-0.3040842115879059,-0.0409016758203506,0.0620933696627617,0.0613335259258747,-0.1455007195472717) * MODEL2_texOff(vec2(-1,-1));
res += mat4(0.3171413242816925,-0.1747882813215256,-0.0455330274999142,0.5015451312065125,0.0542994253337383,-0.0136817209422588,-0.0147067932412028,-0.2324204891920090,-0.0423505343496799,-0.0424275919795036,-0.0025409511290491,0.0259313099086285,0.0125867472961545,-0.0103326132521033,0.0154067501425743,0.1791763752698898) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.2647283971309662,0.0016058360924944,-0.1747605204582214,-0.2302014529705048,0.1498004198074341,0.0959000885486603,0.1131643131375313,-0.0147555451840162,-0.4559829831123352,0.0861447453498840,0.1448728889226913,-0.0310997534543276,0.2155352383852005,-0.1420308202505112,0.0266540069133043,0.0375707857310772) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.0513592697679996,-0.1090198457241058,-0.0379704795777798,0.0386824384331703,-0.1056703850626945,0.1654666513204575,0.0816461965441704,-0.0260938387364149,0.0976773127913475,0.1639149188995361,0.0364547222852707,0.0394994430243969,-0.0348356626927853,0.0088962549343705,0.1055172458291054,-0.0116787692531943) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.0996777787804604,0.1370509564876556,-0.0531643033027649,-0.1064225807785988,0.0139734270051122,-0.0289196055382490,-0.0289755538105965,-0.0043447846546769,-0.0378118753433228,0.0172450821846724,0.0723812207579613,-0.0233607273548841,-0.0841105505824089,-0.0421651005744934,0.0981866419315338,0.0563586689531803) * MODEL2_texOff(vec2(-1,1));
res += mat4(0.2337094992399216,0.1083070412278175,0.0260811280459166,-0.2513499855995178,-0.0978925004601479,-0.0928570181131363,-0.1679004132747650,0.3751039803028107,0.2832687497138977,-0.3335085511207581,-0.0366740748286247,0.3810562193393707,0.0905955657362938,-0.0786797851324081,0.0897196009755135,0.2243105471134186) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.0348946750164032,-0.2425189316272736,0.2280086725950241,0.4578352272510529,-0.0996688455343246,-0.1137803792953491,0.0858316645026207,0.1976249366998672,-0.0539151616394520,0.1764441877603531,-0.2880594432353973,-0.0781403481960297,-0.0880136713385582,0.0089493477717042,-0.0129908490926027,0.0029482555110008) * MODEL2_texOff(vec2(0,-1));
res += mat4(0.2630107402801514,0.2357909679412842,0.2007402479648590,-0.2217391133308411,-0.5156930685043335,-0.2197883278131485,0.0425545684993267,-0.0522969178855419,0.5159964561462402,-0.1221513673663139,-0.3386621475219727,-0.0218437481671572,-0.5283374190330505,-0.1211411580443382,0.0852858498692513,0.3254053890705109) * MODEL1_texOff(vec2(0,0));
res += mat4(-0.7258239984512329,0.2914741337299347,0.2887023389339447,0.1270144134759903,-0.0243585743010044,0.2433914393186569,-0.0325603857636452,0.0492006652057171,0.1834141314029694,-0.2105154097080231,-0.2470791935920715,-0.3558087348937988,0.2454414069652557,-0.4701848030090332,0.3856357634067535,0.0719106867909431) * MODEL2_texOff(vec2(0,0));
res += mat4(0.1957436352968216,0.0091773495078087,0.0070145279169083,-0.0524311251938343,0.2802883088588715,0.1559350788593292,0.0130655560642481,0.0474086739122868,0.1335073113441467,-0.0327695123851299,-0.1668960750102997,0.0367000065743923,0.1807236522436142,-0.0097353430464864,0.0477069020271301,0.1052841991186142) * MODEL1_texOff(vec2(0,1));
res += mat4(-0.0911042168736458,-0.1339372098445892,0.1644253879785538,0.1521873325109482,0.1178353205323219,-0.1850488483905792,-0.1117985099554062,-0.0569384805858135,-0.1744717955589294,0.3114114701747894,-0.3305967152118683,-0.0828745141625404,0.1789734661579132,0.3301140069961548,-0.0100181531161070,-0.2445738464593887) * MODEL2_texOff(vec2(0,1));
res += mat4(-0.0558398142457008,0.1068606078624725,0.2194162160158157,0.0282750315964222,0.0968968421220779,-0.1114059761166573,-0.3541924059391022,0.0820313170552254,0.2315392643213272,-0.2323535382747650,-0.0562402158975601,0.1778104603290558,-0.2081266939640045,0.0639876946806908,0.0774742737412453,0.0863871499896049) * MODEL1_texOff(vec2(1,-1));
res += mat4(0.0139472931623459,0.1485811471939087,-0.2928832471370697,-0.0737367868423462,0.0527899116277695,0.0694237798452377,0.0626001954078674,0.0295741856098175,0.0283612124621868,-0.0122937345877290,0.0830446854233742,-0.0860349088907242,0.1701498627662659,0.0634773820638657,-0.0232191123068333,-0.1787149608135223) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.2016276121139526,-0.0039507602341473,-0.9350029826164246,-0.0758055895566940,-0.0226421132683754,-0.1907786428928375,-0.5587906837463379,-0.0871915891766548,0.1980004310607910,-0.3339080810546875,0.0912832543253899,0.1797342896461487,0.0601058751344681,-0.0121062695980072,0.1399971842765808,0.2648714184761047) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.1992594450712204,0.0209860168397427,-0.6099076867103577,0.0934831127524376,0.0064589674584568,-0.0764511153101921,-0.0621980391442776,0.0869540348649025,0.2949966192245483,0.0274940337985754,0.1976402252912521,0.1688998788595200,-0.2105284184217453,-0.2498297989368439,-0.4707255661487579,0.0075486018322408) * MODEL2_texOff(vec2(1,0));
res += mat4(0.0917957499623299,-0.1743741929531097,0.2634422183036804,-0.0350205227732658,0.0103443386033177,0.1511999368667603,-0.5204727649688721,-0.0476406924426556,0.1149586811661720,-0.1163281649351120,0.0386986434459686,0.0560458488762379,0.0268263611942530,0.1116189733147621,-0.2503905296325684,-0.0917986705899239) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.0222500525414944,0.1211814135313034,-0.3013649284839630,0.0560226254165173,0.0099529316648841,-0.0392378456890583,0.0966061130166054,-0.0218321066349745,-0.0562082417309284,0.0938350483775139,0.2510950863361359,-0.0295149926096201,-0.0722492337226868,-0.0840643644332886,-0.0277545470744371,-0.0885490998625755) * MODEL2_texOff(vec2(1,1));
res = max(res, vec4(0.0)) - vec4(-0.0956336560000000,0.5710018000000000,0.0613811600000000,0.9829673000000000) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 4_1
//!BIND MODEL21
//!BIND MODEL22
//!SAVE MODEL1
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.0720694300000000,-0.0216709920000000,-0.1898866600000000,-0.0016683913000000);
res += mat4(0.0549997538328171,-0.0083839520812035,-0.0245432946830988,0.0844852849841118,0.0362677425146103,-0.0368415676057339,-0.0276432596147060,0.0012187139363959,0.2181590050458908,0.0211244598031044,0.1049676835536957,-0.0405997112393379,-0.0669399276375771,-0.1875827014446259,0.0295264869928360,0.0555216744542122) * MODEL21_texOff(vec2(-1,-1));
res += mat4(-0.0384996421635151,-0.1496607810258865,-0.0024200242478400,0.0728520229458809,-0.1358497589826584,-0.1837557405233383,0.0879027470946312,-0.0784042924642563,0.0705198422074318,0.0997523292899132,-0.0396815463900566,-0.0334972850978374,-0.0408111661672592,-0.1197757124900818,0.0212439149618149,0.0249793641269207) * MODEL22_texOff(vec2(-1,-1));
res += mat4(0.1012358516454697,-0.0293834451586008,-0.0096900276839733,0.0735409110784531,0.0336359813809395,-0.0687236115336418,-0.0175443962216377,0.1474546492099762,0.0286480989307165,-0.0489366315305233,0.2113755792379379,-0.2044427841901779,-0.0175190847367048,-0.1833027452230453,0.1137866675853729,-0.0087407352402806) * MODEL21_texOff(vec2(-1,0));
res += mat4(0.0378099456429482,-0.1447213888168335,0.0127634070813656,-0.0517945773899555,-0.1962199658155441,0.0726465284824371,-0.0241792947053909,0.1361103206872940,-0.2476949393749237,0.4859510362148285,-0.1249216422438622,-0.0154578089714050,-0.2050861269235611,-0.0550432167947292,-0.1194876059889793,0.0792516171932220) * MODEL22_texOff(vec2(-1,0));
res += mat4(-0.2405928224325180,-0.0692172870039940,0.0749985799193382,-0.0474248379468918,-0.0737713575363159,-0.0103051355108619,0.0533088371157646,-0.1086832731962204,0.2357174903154373,0.0476881191134453,0.0278242547065020,0.0896192342042923,-0.0989565923810005,-0.0503111742436886,-0.0775345489382744,-0.0451946109533310) * MODEL21_texOff(vec2(-1,1));
res += mat4(0.0344382263720036,-0.0166007261723280,0.0605106614530087,0.1104527115821838,-0.0489654205739498,-0.0208955202251673,-0.0008522313437425,0.1601598560810089,0.0567390061914921,0.1581554561853409,-0.0637566372752190,0.0060111037455499,0.0886301323771477,-0.0780938267707825,0.0241969265043736,-0.0363240167498589) * MODEL22_texOff(vec2(-1,1));
res += mat4(-0.0396782979369164,0.2762575745582581,-0.1595803350210190,0.1101204529404640,0.1454903185367584,0.0926703289151192,-0.1184092313051224,0.0115415900945663,-0.1320204883813858,0.1916247755289078,0.2979727983474731,-0.0058383084833622,0.1937053948640823,0.2193708568811417,-0.2294024676084518,-0.1403619349002838) * MODEL21_texOff(vec2(0,-1));
res += mat4(-0.0205119121819735,-0.0178031474351883,-0.0141650689765811,0.1806147694587708,0.3908120095729828,0.2915945649147034,-0.1040790528059006,-0.3222728371620178,-0.0833845958113670,-0.0758536159992218,0.1468523144721985,-0.0230990294367075,0.1657568067312241,0.1683458387851715,-0.1702117770910263,-0.0238452274352312) * MODEL22_texOff(vec2(0,-1));
res += mat4(0.3596918880939484,0.2198621779680252,-0.3116857707500458,0.1680345237255096,0.0064114332199097,0.4092508852481842,-0.0249990504235029,0.2486260682344437,0.2831899225711823,-0.1278474181890488,0.0612965002655983,-0.2858177423477173,-0.3111120462417603,0.2097455710172653,0.0134219806641340,0.4677635431289673) * MODEL21_texOff(vec2(0,0));
res += mat4(0.5861690044403076,0.4628262221813202,-0.0812663361430168,-0.2663667500019073,-0.4539243876934052,-0.0453198477625847,-0.1557422578334808,0.3279937505722046,0.0879415571689606,-0.1139576882123947,-0.7669717073440552,-0.0188297219574451,-0.1470963656902313,-0.4151130616664886,-0.2642404139041901,0.0953477770090103) * MODEL22_texOff(vec2(0,0));
res += mat4(-0.4178255498409271,0.1245676279067993,-0.2409552484750748,-0.2167024463415146,-0.2376925200223923,-0.0074606565758586,-0.1932124197483063,-0.0849408954381943,0.1847450286149979,-0.1073723211884499,0.2519458532333374,0.1628567278385162,-0.0338387377560139,-0.0785712748765945,-0.2135052233934402,-0.2071161270141602) * MODEL21_texOff(vec2(0,1));
res += mat4(-0.0824871808290482,-0.0409769602119923,0.0476727001368999,0.3248398005962372,-0.3626777827739716,-0.0102468291297555,0.0663822293281555,0.0805030986666679,0.0237667467445135,-0.0352020338177681,0.0072275009006262,-0.0807498395442963,-0.1459576636552811,-0.1926851570606232,-0.0357188470661640,-0.0642263889312744) * MODEL22_texOff(vec2(0,1));
res += mat4(-0.0599648989737034,-0.0040460489690304,-0.1664267331361771,0.0617164261639118,0.1010121554136276,-0.0440800450742245,-0.1323537528514862,-0.0385362692177296,0.0876654312014580,-0.0448926687240601,-0.0038664815947413,0.1421289294958115,-0.0680463165044785,-0.1298906356096268,-0.0480483211576939,0.0543947666883469) * MODEL21_texOff(vec2(1,-1));
res += mat4(-0.0379785932600498,0.0126015916466713,-0.1736910939216614,0.1596840471029282,0.0286476667970419,-0.0365370437502861,0.0634234771132469,0.1183162182569504,-0.0100729605183005,0.0568843223154545,0.0479749664664268,-0.0714635103940964,-0.0057353684678674,-0.0950771123170853,-0.0792666822671890,0.0858010500669479) * MODEL22_texOff(vec2(1,-1));
res += mat4(-0.0572852119803429,0.1895594298839569,-0.3749890327453613,-0.0395980887115002,-0.0057177655398846,-0.2064860910177231,-0.2608292400836945,0.2839403152465820,0.1461901366710663,0.0787142068147659,0.3407250642776489,-0.0721723437309265,0.1702715605497360,-0.1477637141942978,-0.1894792616367340,0.0248899422585964) * MODEL21_texOff(vec2(1,0));
res += mat4(0.0925778821110725,-0.2702407538890839,-0.1477509438991547,0.0692370161414146,-0.2359278947114944,0.0119592398405075,0.0720215067267418,0.2007782757282257,-0.1277226507663727,0.2485207468271255,-0.0174005385488272,-0.0173908229917288,-0.0592368952929974,-0.1746995747089386,-0.0533657371997833,0.1245527192950249) * MODEL22_texOff(vec2(1,0));
res += mat4(0.0072646248154342,0.0828911438584328,-0.0858569070696831,-0.0363263189792633,0.0132976071909070,0.0251900739967823,0.0318211279809475,-0.1912146359682083,0.0394105911254883,0.0277522448450327,0.0797607302665710,0.0609629824757576,-0.1223188713192940,0.0026671069208533,0.0213113147765398,-0.0319217480719090) * MODEL21_texOff(vec2(1,1));
res += mat4(-0.0922466665506363,-0.0448195971548557,0.0279977302998304,0.1604290008544922,-0.0120477387681603,0.0644034221768379,0.0090673947706819,0.1228497028350830,0.0311465114355087,0.0211331546306610,-0.0097992476075888,-0.0229607708752155,-0.0227510891854763,-0.0966991260647774,0.0461193472146988,0.0030585147906095) * MODEL22_texOff(vec2(1,1));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC mapping 4_2
//!BIND MODEL21
//!BIND MODEL22
//!SAVE MODEL2
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(-0.1054897300000000,-0.0445521600000000,-0.0249999100000000,0.0986062600000000);
res += mat4(-0.1798948943614960,0.0160191655158997,-0.0120476111769676,-0.0254828929901123,-0.1089780926704407,-0.0535437352955341,-0.0119938263669610,0.0437589026987553,0.0515096150338650,0.2304167598485947,0.1901717334985733,-0.0863167941570282,-0.0342271737754345,-0.2581154704093933,-0.0608304068446159,0.0466190315783024) * MODEL21_texOff(vec2(-1,-1));
res += mat4(0.0423130653798580,-0.0276807192713022,0.0055242916569114,0.0245613101869822,0.2140435129404068,-0.3758414387702942,-0.0700791329145432,0.1014305651187897,0.0672807991504669,-0.0005166160990484,0.0946408510208130,-0.1388009786605835,0.0229188781231642,-0.1961690336465836,-0.0791505202651024,0.0292398557066917) * MODEL22_texOff(vec2(-1,-1));
res += mat4(-0.0795378237962723,0.0761446580290794,-0.1662845164537430,0.1369194090366364,-0.1928579509258270,0.0455500073730946,0.1737195998430252,-0.0271256025880575,0.2710823118686676,0.0118275042623281,0.1342685222625732,0.1260343641042709,0.1603946983814240,0.1908264309167862,0.1313031017780304,0.0302470009773970) * MODEL21_texOff(vec2(-1,0));
res += mat4(0.0586500950157642,0.0122978556901217,0.0822609215974808,0.0279195010662079,0.1761665493249893,-0.1262934207916260,-0.2902620434761047,0.0538809262216091,0.2382574826478958,0.0080330707132816,-0.0870499089360237,-0.2822643220424652,0.0450009591877460,-0.0079729221761227,-0.2212451994419098,0.0853499844670296) * MODEL22_texOff(vec2(-1,0));
res += mat4(-0.1359107047319412,-0.1782737374305725,0.0619584731757641,0.0269578639417887,-0.0141637166962028,-0.0193242654204369,0.0765721648931503,0.1037097796797752,0.1004738062620163,0.1145503968000412,0.0075415056198835,-0.0968058183789253,-0.0889948084950447,-0.0934299454092979,-0.1378845125436783,0.0192379541695118) * MODEL21_texOff(vec2(-1,1));
res += mat4(-0.1199621781706810,-0.0103703103959560,-0.0773556008934975,-0.0290101952850819,-0.0731596797704697,0.0738857835531235,-0.0022829012013972,-0.1626196950674057,0.0845168754458427,0.1235552653670311,0.0020190139766783,-0.0917838886380196,0.0523077324032784,-0.0402032881975174,-0.0480632446706295,-0.0392054505646229) * MODEL22_texOff(vec2(-1,1));
res += mat4(-0.1017250195145607,-0.0852506235241890,-0.0540340915322304,0.0683587789535522,-0.2114249318838120,-0.1297040730714798,-0.1021126061677933,-0.0480535887181759,0.4482887983322144,0.7763461470603943,-0.0808259323239326,-0.0102298511192203,0.1761906743049622,-0.2317187786102295,-0.1582157611846924,-0.0381418131291866) * MODEL21_texOff(vec2(0,-1));
res += mat4(0.0638934820890427,0.1516446024179459,-0.1413715481758118,0.0120171438902617,0.1861478090286255,-0.2343816757202148,0.0634944140911102,0.0011735290754586,0.0617021694779396,-0.0165852215141058,0.1438729614019394,0.0858767107129097,0.0655091181397438,-0.1554018259048462,-0.1305582076311111,-0.0088931657373905) * MODEL22_texOff(vec2(0,-1));
res += mat4(-0.6997327208518982,0.4600132107734680,0.1273144930601120,0.2036637216806412,-0.2877958416938782,0.1742403805255890,-0.4626531004905701,0.2093399018049240,0.0365805886685848,-0.3498998582363129,-0.0736234113574028,-0.3388468921184540,-0.5722879767417908,0.1853458285331726,-0.1764388084411621,-0.1622633635997772) * MODEL21_texOff(vec2(0,0));
res += mat4(-0.4466027021408081,-0.0257868133485317,-0.2496999353170395,-0.2119305878877640,0.3524332642555237,0.4027175009250641,0.2763448059558868,-0.0712208896875381,-0.3544252812862396,-0.0414908044040203,0.7093508839607239,0.1851448118686676,-0.3967037498950958,0.2422328144311905,-0.0912095308303833,0.0400733798742294) * MODEL22_texOff(vec2(0,0));
res += mat4(-0.1179172322154045,-0.6984966397285461,-0.0162077806890011,0.2158066183328629,-0.1583997458219528,-0.2008837908506393,-0.1380219608545303,-0.0434996634721756,-0.0044031795114279,0.1263774037361145,0.0444042272865772,0.0222076792269945,0.0596908703446388,-0.2978976964950562,-0.0196778401732445,0.1803458333015442) * MODEL21_texOff(vec2(0,1));
res += mat4(0.0408176966011524,0.3494542837142944,0.0000648976783850,-0.1199555620551109,0.0867115482687950,-0.1033924520015717,0.0406991802155972,0.0594374537467957,-0.0144324796274304,-0.0187148507684469,0.1218112781643867,0.0140840923413634,0.4929416179656982,0.0427364595234394,-0.2502357065677643,-0.1113950163125992) * MODEL22_texOff(vec2(0,1));
res += mat4(-0.0955451354384422,-0.1684838086366653,0.1710320115089417,0.0246618147939444,0.0004411605477799,-0.0230774469673634,0.0424010418355465,0.0205194614827633,0.1790265887975693,0.0340577699244022,-0.0798837915062904,-0.1283670812845230,-0.0453123562037945,-0.0395799428224564,0.0384538099169731,0.0047293612733483) * MODEL21_texOff(vec2(1,-1));
res += mat4(0.1092006489634514,-0.1765606254339218,-0.1263486891984940,-0.1059561967849731,0.2177141904830933,-0.1999083757400513,-0.0261871367692947,-0.0767496302723885,0.0433479771018028,0.1054526120424271,0.0041789119131863,-0.0124788461253047,-0.0124724227935076,-0.1698421388864517,0.0171580072492361,-0.0309178158640862) * MODEL22_texOff(vec2(1,-1));
res += mat4(-0.0672211125493050,0.2153207808732986,0.1360951364040375,-0.0004799532471225,-0.2316380441188812,-0.0772429406642914,0.4361015260219574,0.0762577950954437,0.2259805202484131,0.0544922463595867,-0.0352587811648846,-0.0330391228199005,-0.1313087046146393,0.0085606304928660,0.1362695544958115,0.0551824495196342) * MODEL21_texOff(vec2(1,0));
res += mat4(-0.1120093166828156,0.1231312602758408,0.1951297670602798,0.0441232547163963,0.0423932485282421,-0.1420584172010422,-0.0816730186343193,-0.1128558665513992,0.1999075263738632,-0.0926600247621536,-0.2428489029407501,-0.0214253123849630,-0.4129738211631775,0.1531881392002106,0.0158223323523998,0.0864594951272011) * MODEL22_texOff(vec2(1,0));
res += mat4(0.0085271643474698,-0.2361860275268555,0.0392372906208038,0.0657189264893532,-0.0287448223680258,0.0979124680161476,0.0436144806444645,0.0833508223295212,0.0406140685081482,0.0875692144036293,0.0613119304180145,-0.0631419643759727,0.0208557173609734,-0.0249064415693283,-0.0821560695767403,-0.0036060267593712) * MODEL21_texOff(vec2(1,1));
res += mat4(0.0749908387660980,-0.0353797003626823,-0.0500365309417248,-0.0016548607964069,0.0136528238654137,0.1007318571209908,-0.0396480411291122,-0.1725309044122696,-0.0927439182996750,0.0523799136281013,-0.0399629175662994,-0.0611360184848309,-0.0580158755183220,-0.0829175785183907,-0.1588986665010452,-0.0517849549651146) * MODEL22_texOff(vec2(1,1));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC sub-band residuals 1
//!BIND MODEL1
//!BIND MODEL2
//!BIND FEATURE1
//!SAVE RES1
//!COMPONENTS 4
vec4 hook()
{
vec4 res1 = MODEL1_texOff(vec2(0));
res1 = max(res1, vec4(0.0)) - vec4(-0.0182123310000000,0.2427031000000000,0.3076669000000000,2.3250910000000000) * max(-res1, vec4(0.0));
vec4 res2 = MODEL2_texOff(vec2(0));
res2 = max(res2, vec4(0.0)) - vec4(0.6533910000000001,0.2218078400000000,0.2997472600000000,1.5613002000000000) * max(-res2, vec4(0.0));
vec4 res = vec4(-0.0488467000000000,-0.0012239830000000,0.1877787600000000,-0.0001572362100000);
res += mat4(0.4004673659801483,-0.1088605448603630,0.0172700639814138,0.3787757456302643,-0.2396564930677414,-0.3733040690422058,0.0722948610782623,0.2388502806425095,-0.8060051798820496,-0.5938752889633179,-0.3980520963668823,-0.1396242529153824,-0.1568927019834518,-0.0105841262266040,0.5080279111862183,0.0751506984233856) * res1;
res += mat4(-0.2084916383028030,0.0668168812990189,0.6811080574989319,0.1177458092570305,0.2931526303291321,-0.0011012463364750,1.0733249187469482,-0.4258447587490082,0.4086337089538574,0.4727577269077301,-0.1845230609178543,-0.2622316777706146,0.1832671910524368,-0.1997812688350677,0.4583257734775543,0.2661370933055878) * res2;
res += FEATURE1_texOff(0);
res = max(res, vec4(0.0)) - vec4(0.4268508600000000,1.5409124999999999,1.8414687000000001,0.8520561500000000) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC sub-band residuals 2
//!BIND MODEL1
//!BIND MODEL2
//!BIND FEATURE2
//!SAVE RES2
//!COMPONENTS 4
vec4 hook()
{
vec4 res1 = MODEL1_texOff(vec2(0));
res1 = max(res1, vec4(0.0)) - vec4(-0.0182123310000000,0.2427031000000000,0.3076669000000000,2.3250910000000000) * max(-res1, vec4(0.0));
vec4 res2 = MODEL2_texOff(vec2(0));
res2 = max(res2, vec4(0.0)) - vec4(0.6533910000000001,0.2218078400000000,0.2997472600000000,1.5613002000000000) * max(-res2, vec4(0.0));
vec4 res = vec4(-0.1520138400000000,-0.0045738380000000,-0.0669647700000000,0.0539383630000000);
res += mat4(-0.1250168979167938,-0.1731394231319427,0.3023899197578430,-0.3405274450778961,-0.3740223050117493,0.0308972671627998,0.2167267203330994,-0.0371300689876080,-0.2857814729213715,-0.1813296973705292,-0.8000117540359497,1.0127835273742676,0.4759747982025146,-0.0102474568411708,-0.1894915848970413,0.4583038389682770) * res1;
res += mat4(-0.5291693806648254,-0.4173004031181335,-0.4324889183044434,-0.1112037003040314,-0.5553233027458191,0.1622560024261475,0.1582935601472855,-0.1900178939104080,0.2115794271230698,0.0381460227072239,-0.1497914493083954,-0.1143316552042961,0.2971946895122528,0.0318936742842197,-0.0259793624281883,0.1973554491996765) * res2;
res += FEATURE2_texOff(0);
res = max(res, vec4(0.0)) - vec4(-0.4128370600000000,0.4893075200000000,0.2685774300000000,1.2341780000000000) * max(-res, vec4(0.0));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC sub-pixel convolution 1
//!BIND RES1
//!SAVE RES1
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0);
res[0] +=
dot(vec4(0.0069078858941793,0.0130541492253542,-0.0002485877776053,0.0058432137593627), RES1_texOff(vec2(-1,-1)))+
dot(vec4(-0.0047657769173384,-0.0225847084075212,0.0193574558943510,-0.0426205731928349), RES1_texOff(vec2(0,-1)))+
dot(vec4(0.0274528544396162,-0.0159894172102213,0.0117705184966326,0.0041125733405352), RES1_texOff(vec2(1,-1)))+
dot(vec4(-0.0656056776642799,-0.0067201522178948,0.0077735004015267,0.0157291181385517), RES1_texOff(vec2(-1,0)))+
dot(vec4(0.3103794157505035,0.2310624271631241,-0.0980026647448540,0.1180518418550491), RES1_texOff(vec2(0,0)))+
dot(vec4(-0.0298265945166349,0.0111936209723353,-0.0250044651329517,-0.0348330736160278), RES1_texOff(vec2(1,0)))+
dot(vec4(-0.0204744469374418,0.0105238063260913,0.0099544608965516,0.0038073437754065), RES1_texOff(vec2(-1,1)))+
dot(vec4(-0.0094753056764603,0.0243809763342142,-0.0070201340131462,-0.0467432700097561), RES1_texOff(vec2(0,1)))+
dot(vec4(-0.0080999378114939,-0.0014222707832232,0.0014602487208322,-0.0245602410286665), RES1_texOff(vec2(1,1)));
res[1] +=
dot(vec4(-0.0062004243955016,0.0101654669269919,0.0050714854151011,0.0051914015784860), RES1_texOff(vec2(0,-1)))+
dot(vec4(0.0287995710968971,-0.0069257146678865,0.0276105571538210,-0.0342398174107075), RES1_texOff(vec2(1,-1)))+
dot(vec4(0.0358852297067642,-0.0716708004474640,-0.0146072208881378,-0.0446901246905327), RES1_texOff(vec2(0,0)))+
dot(vec4(-0.1143041029572487,-0.0445403270423412,-0.0750065669417381,0.1449935138225555), RES1_texOff(vec2(1,0)))+
dot(vec4(-0.0288293324410915,0.0111098317429423,0.0007386533543468,-0.0191519651561975), RES1_texOff(vec2(0,1)))+
dot(vec4(-0.0329026058316231,-0.0699036121368408,0.0051397033967078,-0.0485479645431042), RES1_texOff(vec2(1,1)));
res[2] +=
dot(vec4(-0.0228612087666988,0.0118125248700380,0.0024494708050042,-0.0041770301759243), RES1_texOff(vec2(-1,0)))+
dot(vec4(-0.0068187089636922,-0.0050388183444738,-0.0095785846933722,-0.0173428542912006), RES1_texOff(vec2(0,0)))+
dot(vec4(-0.0607331432402134,0.0398015268146992,-0.0052476041018963,-0.0287866108119488), RES1_texOff(vec2(1,0)))+
dot(vec4(-0.0321289971470833,-0.0107664270326495,0.0080808224156499,0.0369571745395660), RES1_texOff(vec2(-1,1)))+
dot(vec4(0.1914775669574738,0.2197655588388443,0.0518800988793373,0.0207085609436035), RES1_texOff(vec2(0,1)))+
dot(vec4(0.0393433719873428,-0.0535191670060158,0.0244728792458773,-0.0497671440243721), RES1_texOff(vec2(1,1)));
res[3] +=
dot(vec4(-0.0153827816247940,-0.0090580098330975,0.0079999994486570,-0.0088387019932270), RES1_texOff(vec2(0,0)))+
dot(vec4(-0.1634391099214554,0.0230368934571743,-0.0085193617269397,-0.0312643200159073), RES1_texOff(vec2(1,0)))+
dot(vec4(-0.0207049380987883,-0.0268903225660324,0.0051534194499254,-0.0614231377840042), RES1_texOff(vec2(0,1)))+
dot(vec4(-0.0058142803609371,-0.2232776433229446,0.0968220755457878,0.0706387907266617), RES1_texOff(vec2(1,1)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!DESC sub-pixel convolution 2
//!BIND RES2
//!SAVE RES2
//!COMPONENTS 4
vec4 hook()
{
vec4 res = vec4(0);
res[0] +=
dot(vec4(-0.0012101889587939,-0.0134814456105232,-0.0037772816140205,-0.0055074463598430), RES2_texOff(vec2(-1,-1)))+
dot(vec4(0.0062137511558831,0.0021718530915678,0.0145342601463199,0.0245815739035606), RES2_texOff(vec2(0,-1)))+
dot(vec4(-0.0036968470085412,-0.0074220760725439,-0.0131409093737602,-0.0088928220793605), RES2_texOff(vec2(1,-1)))+
dot(vec4(-0.0016143340617418,0.0465259440243244,0.0051455190405250,-0.0179623328149319), RES2_texOff(vec2(-1,0)))+
dot(vec4(0.1615311503410339,-0.2198518663644791,0.0575957521796227,0.2125756591558456), RES2_texOff(vec2(0,0)))+
dot(vec4(-0.0674843415617943,-0.0631133615970612,-0.0088857579976320,-0.0364906638860703), RES2_texOff(vec2(1,0)))+
dot(vec4(-0.0020407491829246,-0.0003782041312661,0.0270832255482674,-0.0164938475936651), RES2_texOff(vec2(-1,1)))+
dot(vec4(-0.0727450177073479,-0.0259990561753511,-0.0458127446472645,-0.0160931628197432), RES2_texOff(vec2(0,1)))+
dot(vec4(-0.0186282992362976,-0.0197910144925117,-0.0137301282957196,-0.0349472016096115), RES2_texOff(vec2(1,1)));
res[1] +=
dot(vec4(-0.0038717326242477,-0.0032271153759211,0.0097383167594671,0.0002645174390636), RES2_texOff(vec2(0,-1)))+
dot(vec4(0.0047457390464842,-0.0124781848862767,-0.0164512116461992,0.0118785416707397), RES2_texOff(vec2(1,-1)))+
dot(vec4(-0.0644669979810715,-0.0706720799207687,-0.0410457476973534,-0.0317216366529465), RES2_texOff(vec2(0,0)))+
dot(vec4(0.1782260239124298,-0.0856715515255928,0.3259217739105225,0.1566893458366394), RES2_texOff(vec2(1,0)))+
dot(vec4(-0.0213160980492830,-0.0218233410269022,0.0015325290150940,-0.0185687076300383), RES2_texOff(vec2(0,1)))+
dot(vec4(-0.0638515427708626,-0.0203098077327013,-0.0239529665559530,-0.0518002994358540), RES2_texOff(vec2(1,1)));
res[2] +=
dot(vec4(0.0015371441841125,0.0150259518995881,0.0059695960953832,0.0035352539271116), RES2_texOff(vec2(-1,0)))+
dot(vec4(-0.0755160525441170,0.0105639752000570,-0.0697278752923012,-0.0636019855737686), RES2_texOff(vec2(0,0)))+
dot(vec4(-0.0202734414488077,0.0052934442646801,0.0150292236357927,-0.0265790913254023), RES2_texOff(vec2(1,0)))+
dot(vec4(-0.0033727553673089,-0.0239133015275002,0.0169774927198887,-0.0307166315615177), RES2_texOff(vec2(-1,1)))+
dot(vec4(0.1415210515260696,0.2470641881227493,-0.1279159933328629,0.1394900828599930), RES2_texOff(vec2(0,1)))+
dot(vec4(-0.0692405253648758,-0.0282562654465437,-0.0941880643367767,-0.0739084184169769), RES2_texOff(vec2(1,1)));
res[3] +=
dot(vec4(-0.0244243983179331,0.0067485258914530,-0.0260922200977802,-0.0428492315113544), RES2_texOff(vec2(0,0)))+
dot(vec4(-0.0691223517060280,0.0489139221608639,0.0401083119213581,-0.0621444210410118), RES2_texOff(vec2(1,0)))+
dot(vec4(-0.0682303011417389,-0.0252125989645720,-0.0283012706786394,-0.0131932124495506), RES2_texOff(vec2(0,1)))+
dot(vec4(0.1646959036588669,0.2743181288242340,-0.0050961095839739,0.0312739051878452), RES2_texOff(vec2(1,1)));
return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w / 1.300 > OUTPUT.h LUMA.h / 1.300 > *
//!WIDTH LUMA.w 2 *
//!HEIGHT LUMA.h 2 *
//!DESC aggregation
//!BIND HOOKED
//!BIND RES1
//!BIND RES2
//!OFFSET -1.0 -1.0
vec4 hook()
{
float res = -6.1349114e-05;
vec2 fcoord = fract(HOOKED_pos * HOOKED_size);
vec2 base = HOOKED_pos + (vec2(0.5) - fcoord) * HOOKED_pt;
ivec2 index = ivec2(fcoord * vec2(2));
res += (RES1_tex(base)+RES2_tex(base))[index.y * 2 + index.x];
vec4 img = vec4(0);
img[0] =
0.5625 * HOOKED_tex(base + HOOKED_pt * vec2(0,0)).r+
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(1,0)).r+
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(0,1)).r+
0.0625 * HOOKED_tex(base + HOOKED_pt * vec2(1,1)).r;
img[1] =
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(0,0)).r+
0.5625 * HOOKED_tex(base + HOOKED_pt * vec2(1,0)).r+
0.0625 * HOOKED_tex(base + HOOKED_pt * vec2(0,1)).r+
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(1,1)).r;
img[2] =
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(0,0)).r+
0.0625 * HOOKED_tex(base + HOOKED_pt * vec2(1,0)).r+
0.5625 * HOOKED_tex(base + HOOKED_pt * vec2(0,1)).r+
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(1,1)).r;
img[3] =
0.0625 * HOOKED_tex(base + HOOKED_pt * vec2(0,0)).r+
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(1,0)).r+
0.1875 * HOOKED_tex(base + HOOKED_pt * vec2(0,1)).r+
0.5625 * HOOKED_tex(base + HOOKED_pt * vec2(1,1)).r;
res += img[index.y * 2 + index.x];
return vec4(res, 0, 0, 1);
}

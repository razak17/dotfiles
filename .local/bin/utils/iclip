#!/bin/sh

mkdir -p ~/.dots/clip
clip_history=~/.dots/clip/clip_hist.txt

while [ "$#" -gt 0 ]; do
	curr=$1
	shift

	case "$curr" in
	-s)
		item=$(xclip -o -selection c)
		echo "$item" >>$clip_history
		notify-send -t 700 "saved!"
		;;
	-l)
		cat $clip_history | dmenu -l 10 | tr -d '\n' | xclip -sel c && notify-send -t 700 "copied!"
		;;
	esac
done
